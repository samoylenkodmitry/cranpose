    Updating crates.io index
 Downloading crates ...
  Downloaded allocator-api2 v0.2.21
  Downloaded serde_core v1.0.228
  Downloaded version_check v0.9.5
  Downloaded zerocopy-derive v0.8.27
  Downloaded smallvec v1.15.1
  Downloaded unicode-ident v1.0.19
  Downloaded serde v1.0.228
  Downloaded memchr v2.7.6
  Downloaded clap_builder v4.5.48
  Downloaded hashbrown v0.16.0
  Downloaded indexmap v2.11.4
  Downloaded zerocopy v0.8.27
  Downloaded rayon v1.11.0
  Downloaded syn v2.0.106
  Downloaded serde_json v1.0.145
  Downloaded regex v1.11.3
  Downloaded plotters v0.3.7
  Downloaded aho-corasick v1.1.3
  Downloaded half v2.7.0
  Downloaded rayon-core v1.13.0
  Downloaded serde_derive v1.0.228
  Downloaded itertools v0.10.5
  Downloaded regex-syntax v0.8.6
  Downloaded getrandom v0.3.3
  Downloaded clap v4.5.48
  Downloaded ryu v1.0.20
  Downloaded quote v1.0.41
  Downloaded once_cell v1.21.3
  Downloaded crossbeam-deque v0.8.6
  Downloaded criterion v0.5.1
  Downloaded regex-automata v0.4.11
  Downloaded walkdir v2.5.0
  Downloaded tinytemplate v1.2.1
  Downloaded smallvec v2.0.0-alpha.11
  Downloaded same-file v1.0.6
  Downloaded rustc-hash v2.1.1
  Downloaded plotters-backend v0.3.7
  Downloaded oorandom v11.1.5
  Downloaded is-terminal v0.4.16
  Downloaded either v1.15.0
  Downloaded clap_lex v0.7.5
  Downloaded cfg-if v1.0.3
  Downloaded plotters-svg v0.3.7
  Downloaded num-traits v0.2.19
  Downloaded itoa v1.0.15
  Downloaded foldhash v0.2.0
  Downloaded equivalent v1.0.2
  Downloaded libc v0.2.176
  Downloaded crossbeam-utils v0.8.21
  Downloaded crossbeam-epoch v0.9.18
  Downloaded criterion-plot v0.5.0
  Downloaded ciborium-ll v0.2.2
  Downloaded ciborium-io v0.2.2
  Downloaded ciborium v0.2.2
  Downloaded cast v0.3.0
  Downloaded anstyle v1.0.13
  Downloaded anes v0.1.6
  Downloaded ahash v0.8.12
  Downloaded proc-macro2 v1.0.101
  Downloaded futures-task v0.3.31
  Downloaded autocfg v1.5.0
   Compiling proc-macro2 v1.0.101
   Compiling quote v1.0.41
   Compiling unicode-ident v1.0.19
   Compiling getrandom v0.3.3
   Compiling zerocopy v0.8.27
   Compiling version_check v0.9.5
   Compiling libc v0.2.176
   Compiling cfg-if v1.0.3
   Compiling foldhash v0.2.0
   Compiling equivalent v1.0.2
   Compiling allocator-api2 v0.2.21
   Compiling once_cell v1.21.3
   Compiling serde_core v1.0.228
   Compiling crossbeam-utils v0.8.21
   Compiling rustc-hash v2.1.1
   Compiling futures-task v0.3.31
   Compiling smallvec v2.0.0-alpha.11
   Compiling serde v1.0.228
   Compiling ahash v0.8.12
   Compiling autocfg v1.5.0
   Compiling hashbrown v0.16.0
   Compiling rayon-core v1.13.0
   Compiling either v1.15.0
   Compiling compose-ui-graphics v0.1.0 (/home/user/rs-compose/crates/compose-ui-graphics)
   Compiling serde_json v1.0.145
   Compiling num-traits v0.2.19
   Compiling memchr v2.7.6
   Compiling ciborium-io v0.2.2
   Compiling clap_lex v0.7.5
   Compiling ryu v1.0.20
   Compiling regex-syntax v0.8.6
   Compiling plotters-backend v0.3.7
   Compiling crossbeam-epoch v0.9.18
   Compiling itoa v1.0.15
   Compiling anstyle v1.0.13
   Compiling itertools v0.10.5
   Compiling same-file v1.0.6
   Compiling cast v0.3.0
   Compiling crossbeam-deque v0.8.6
   Compiling clap_builder v4.5.48
   Compiling plotters-svg v0.3.7
   Compiling walkdir v2.5.0
   Compiling is-terminal v0.4.16
   Compiling indexmap v2.11.4
   Compiling syn v2.0.106
   Compiling anes v0.1.6
   Compiling oorandom v11.1.5
   Compiling smallvec v1.15.1
   Compiling regex-automata v0.4.11
   Compiling plotters v0.3.7
   Compiling rayon v1.11.0
   Compiling compose-core v0.1.0 (/home/user/rs-compose/crates/compose-core)
   Compiling criterion-plot v0.5.0
warning: unused doc comment
  --> crates/compose-core/src/snapshot_pinning.rs:91:1
   |
91 | /// Global pinning table protected by a mutex.
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macro invocations
   |
   = help: to document an item produced by a macro, the macro must produce the documentation as part of its expansion
   = note: `#[warn(unused_doc_comments)]` (part of `#[warn(unused)]`) on by default

warning: unused doc comment
   --> crates/compose-core/src/snapshot_v2/mod.rs:323:1
    |
323 | /// Thread-local storage for the current snapshot.
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macro invocations
    |
    = help: to document an item produced by a macro, the macro must produce the documentation as part of its expansion

warning: unused doc comment
   --> crates/compose-core/src/snapshot_v2/mod.rs:405:1
    |
405 | /// Global map of apply observers indexed by unique ID.
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ rustdoc does not generate documentation for macro invocations
    |
    = help: to document an item produced by a macro, the macro must produce the documentation as part of its expansion

warning: unused doc comment
   --> crates/compose-core/src/snapshot_v2/mod.rs:410:1
    |
410 | / /// Thread-local last-writer registry used for conflict detection in v2.
411 | | ///
412 | | /// Maps a state object id to the snapshot id of the most recent successful apply
413 | | /// that modified the object. This is a simplified conflict tracking mechanism
414 | | /// for Phase 2.1 before full record-chain merging is implemented.
415 | | ///
416 | | /// Thread-local ensures test isolation - each test thread has its own registry.
    | |_-------------------------------------------------------------------------------^
    |   |
    |   rustdoc does not generate documentation for macro invocations
    |
    = help: to document an item produced by a macro, the macro must produce the documentation as part of its expansion

warning: unused doc comment
   --> crates/compose-core/src/snapshot_v2/mod.rs:421:1
    |
421 | / /// Thread-local weak set of state objects with multiple records for periodic garbage collection.
422 | | /// Mirrors Kotlin's `extraStateObjects` WeakSet.
    | |_------------------------------------------------^
    |   |
    |   rustdoc does not generate documentation for macro invocations
    |
    = help: to document an item produced by a macro, the macro must produce the documentation as part of its expansion

warning: unexpected `cfg` condition value: `std-hash`
 --> crates/compose-core/src/collections.rs:1:7
  |
1 | #[cfg(feature = "std-hash")]
  |       ^^^^^^^^^^^^^^^^^^^^
  |
  = note: expected values for `feature` are: `default`
  = help: consider adding `std-hash` as a feature in `Cargo.toml`
  = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration
  = note: `#[warn(unexpected_cfgs)]` on by default

warning: unexpected `cfg` condition value: `std-hash`
 --> crates/compose-core/src/collections.rs:7:11
  |
7 | #[cfg(not(feature = "std-hash"))]
  |           ^^^^^^^^^^^^^^^^^^^^
  |
  = note: expected values for `feature` are: `default`
  = help: consider adding `std-hash` as a feature in `Cargo.toml`
  = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration

warning: unexpected `cfg` condition value: `std-hash`
 --> crates/compose-core/src/hash.rs:4:7
  |
4 | #[cfg(feature = "std-hash")]
  |       ^^^^^^^^^^^^^^^^^^^^
  |
  = note: expected values for `feature` are: `default`
  = help: consider adding `std-hash` as a feature in `Cargo.toml`
  = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration

warning: unexpected `cfg` condition value: `std-hash`
  --> crates/compose-core/src/hash.rs:14:11
   |
14 | #[cfg(not(feature = "std-hash"))]
   |           ^^^^^^^^^^^^^^^^^^^^
   |
   = note: expected values for `feature` are: `default`
   = help: consider adding `std-hash` as a feature in `Cargo.toml`
   = note: see <https://doc.rust-lang.org/nightly/rustc/check-cfg/cargo-specifics.html> for more information about checking conditional configuration

warning: unused import: `core::hash::Hash`
 --> crates/compose-core/src/hash.rs:1:5
  |
1 | use core::hash::Hash;
  |     ^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `std::hash::Hasher`
 --> crates/compose-core/src/hash.rs:2:5
  |
2 | use std::hash::Hasher;
  |     ^^^^^^^^^^^^^^^^^

   Compiling clap v4.5.48
warning: variable does not need to be mutable
   --> crates/compose-core/src/state.rs:499:17
    |
499 |             let mut head_guard = self.head.write().unwrap();
    |                 ----^^^^^^^^^^
    |                 |
    |                 help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: type `ObjectId` is more private than the item `state::StateObject::object_id`
   --> crates/compose-core/src/state.rs:382:5
    |
382 |     fn object_id(&self) -> ObjectId;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method `state::StateObject::object_id` is reachable at visibility `pub`
    |
note: but type `ObjectId` is only usable at visibility `pub(crate)`
   --> crates/compose-core/src/state.rs:20:1
    |
 20 | pub(crate) struct ObjectId(pub(crate) usize);
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^
    = note: `#[warn(private_interfaces)]` on by default

warning: type `StateRecord` is more private than the item `state::StateObject::first_record`
   --> crates/compose-core/src/state.rs:383:5
    |
383 |     fn first_record(&self) -> Arc<StateRecord>;
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method `state::StateObject::first_record` is reachable at visibility `pub`
    |
note: but type `StateRecord` is only usable at visibility `pub(crate)`
   --> crates/compose-core/src/state.rs:33:1
    |
 33 | pub(crate) struct StateRecord {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: type `StateRecord` is more private than the item `state::StateObject::readable_record`
   --> crates/compose-core/src/state.rs:384:5
    |
384 | /     fn readable_record(&self, snapshot_id: SnapshotId, invalid: &SnapshotIdSet)
385 | |         -> Arc<StateRecord>;
    | |____________________________^ method `state::StateObject::readable_record` is reachable at visibility `pub`
    |
note: but type `StateRecord` is only usable at visibility `pub(crate)`
   --> crates/compose-core/src/state.rs:33:1
    |
 33 | pub(crate) struct StateRecord {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: type `StateRecord` is more private than the item `state::StateObject::prepend_state_record`
   --> crates/compose-core/src/state.rs:390:5
    |
390 |     fn prepend_state_record(&self, record: Arc<StateRecord>);
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method `state::StateObject::prepend_state_record` is reachable at visibility `pub`
    |
note: but type `StateRecord` is only usable at visibility `pub(crate)`
   --> crates/compose-core/src/state.rs:33:1
    |
 33 | pub(crate) struct StateRecord {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: type `StateRecord` is more private than the item `state::StateObject::merge_records`
   --> crates/compose-core/src/state.rs:392:5
    |
392 | /     fn merge_records(
393 | |         &self,
394 | |         _previous: Arc<StateRecord>,
395 | |         _current: Arc<StateRecord>,
396 | |         _applied: Arc<StateRecord>,
397 | |     ) -> Option<Arc<StateRecord>> {
    | |_________________________________^ method `state::StateObject::merge_records` is reachable at visibility `pub`
    |
note: but type `StateRecord` is only usable at visibility `pub(crate)`
   --> crates/compose-core/src/state.rs:33:1
    |
 33 | pub(crate) struct StateRecord {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: type `StateRecord` is more private than the item `state::StateObject::commit_merged_record`
   --> crates/compose-core/src/state.rs:401:5
    |
401 |     fn commit_merged_record(&self, _merged: Arc<StateRecord>) -> Result<SnapshotId, &'static str> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method `state::StateObject::commit_merged_record` is reachable at visibility `pub`
    |
note: but type `StateRecord` is only usable at visibility `pub(crate)`
   --> crates/compose-core/src/state.rs:33:1
    |
 33 | pub(crate) struct StateRecord {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: struct `GroupFrame` is never constructed
   --> crates/compose-core/src/lib.rs:725:8
    |
725 | struct GroupFrame {
    |        ^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: constant `INVALID_ANCHOR_POS` is never used
   --> crates/compose-core/src/lib.rs:732:7
    |
732 | const INVALID_ANCHOR_POS: usize = usize::MAX;
    |       ^^^^^^^^^^^^^^^^^^

warning: function `get_last_write` is never used
   --> crates/compose-core/src/snapshot_v2/mod.rs:477:15
    |
477 | pub(crate) fn get_last_write(id: StateObjectId) -> Option<SnapshotId> {
    |               ^^^^^^^^^^^^^^

warning: function `process_for_unused_records_locked` is never used
   --> crates/compose-core/src/snapshot_v2/mod.rs:517:15
    |
517 | pub(crate) fn process_for_unused_records_locked(state: &Arc<dyn crate::state::StateObject>) {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `global_snapshot_id` is never used
   --> crates/compose-core/src/snapshot_v2/global.rs:194:8
    |
194 | pub fn global_snapshot_id() -> SnapshotId {
    |        ^^^^^^^^^^^^^^^^^^

warning: methods `add` and `add_trait_object` are never used
  --> crates/compose-core/src/snapshot_weak_set.rs:40:19
   |
28 | impl SnapshotWeakSet {
   | -------------------- methods in this implementation
...
40 |     pub(crate) fn add<T: StateObject + 'static>(&mut self, state: &Arc<T>) {
   |                   ^^^
...
59 |     pub(crate) fn add_trait_object(&mut self, state: &Arc<dyn StateObject>) {
   |                   ^^^^^^^^^^^^^^^^

warning: method `clear_for_reuse` is never used
   --> crates/compose-core/src/state.rs:106:19
    |
 40 | impl StateRecord {
    | ---------------- method in this implementation
...
106 |     pub(crate) fn clear_for_reuse(&self) {
    |                   ^^^^^^^^^^^^^^^

warning: fields `key` and `force_children_recompose` are never read
  --> crates/compose-core/src/chunked_slot_storage.rs:62:5
   |
61 | struct GroupFrame {
   |        ---------- fields in this struct
62 |     key: Key,
   |     ^^^
...
65 |     force_children_recompose: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^

warning: method `lookup_anchor_position` is never used
   --> crates/compose-core/src/chunked_slot_storage.rs:320:8
    |
132 | impl ChunkedSlotStorage {
    | ----------------------- method in this implementation
...
320 |     fn lookup_anchor_position(&self, anchor_id: usize) -> Option<usize> {
    |        ^^^^^^^^^^^^^^^^^^^^^^

warning: field `group_id` is never read
  --> crates/compose-core/src/hierarchical_slot_storage.rs:61:5
   |
57 | struct StorageFrame {
   |        ------------ field in this struct
...
61 |     group_id: usize,
   |     ^^^^^^^^

warning: fields `key` and `force_children_recompose` are never read
  --> crates/compose-core/src/split_slot_storage.rs:64:5
   |
63 | struct GroupFrame {
   |        ---------- fields in this struct
64 |     key: Key,
   |     ^^^
...
67 |     force_children_recompose: bool,
   |     ^^^^^^^^^^^^^^^^^^^^^^^^

warning: associated items `GAP_BLOCK`, `ensure_gap_at`, and `update_anchor_for_slot` are never used
    --> crates/compose-core/src/slot_table.rs:128:11
     |
 126 | impl SlotTable {
     | -------------- associated items in this implementation
 127 |     const INITIAL_CAP: usize = 32;
 128 |     const GAP_BLOCK: usize = 32; // tune 16/32/64
     |           ^^^^^^^^^
...
 155 |     fn ensure_gap_at(&mut self, cursor: usize) {
     |        ^^^^^^^^^^^^^
...
1152 |     fn update_anchor_for_slot(&mut self, slot_index: usize) {
     |        ^^^^^^^^^^^^^^^^^^^^^^

   Compiling regex v1.11.3
warning: `compose-core` (lib) generated 30 warnings (run `cargo fix --lib -p compose-core` to apply 3 suggestions)
   Compiling zerocopy-derive v0.8.27
   Compiling serde_derive v1.0.228
   Compiling compose-macros v0.1.0 (/home/user/rs-compose/crates/compose-macros)
   Compiling tinytemplate v1.2.1
   Compiling half v2.7.0
   Compiling ciborium-ll v0.2.2
   Compiling ciborium v0.2.2
   Compiling criterion v0.5.1
   Compiling compose-ui-layout v0.1.0 (/home/user/rs-compose/crates/compose-ui-layout)
   Compiling compose-runtime-std v0.1.0 (/home/user/rs-compose/crates/compose-runtime-std)
   Compiling compose-foundation v0.1.0 (/home/user/rs-compose/crates/compose-foundation)
   Compiling compose-testing v0.1.0 (/home/user/rs-compose/crates/compose-testing)
   Compiling compose-ui v0.1.0 (/home/user/rs-compose/crates/compose-ui)
warning: `compose-core` (lib) generated 30 warnings (30 duplicates)
warning: methods `measure_node_reuse` and `cache_epoch` are never used
   --> crates/compose-ui/src/layout/mod.rs:288:8
    |
273 | impl LayoutBuilder {
    | ------------------ methods in this implementation
...
288 |     fn measure_node_reuse(
    |        ^^^^^^^^^^^^^^^^^^
...
304 |     fn cache_epoch(&self) -> u64 {
    |        ^^^^^^^^^^^
    |
    = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `compose-ui` (lib) generated 1 warning
warning: function `StaticLabel` should have a snake case name
 --> crates/compose-ui/benches/skip_recomposition.rs:6:4
  |
6 | fn StaticLabel(label: &'static str) {
  |    ^^^^^^^^^^^ help: convert the identifier to snake case: `static_label`
  |
  = note: `#[warn(non_snake_case)]` (part of `#[warn(nonstandard_style)]`) on by default

warning: `compose-ui` (bench "skip_recomposition") generated 1 warning
warning: struct `MaxSizePolicy` is never constructed
  --> crates/compose-ui/src/layout/tests/layout_tests.rs:64:8
   |
64 | struct MaxSizePolicy;
   |        ^^^^^^^^^^^^^

warning: struct `DummyNode` is never constructed
  --> crates/compose-ui/src/tests/async_runtime_full_layout_test.rs:52:8
   |
52 | struct DummyNode;
   |        ^^^^^^^^^

warning: `compose-ui` (lib test) generated 3 warnings (1 duplicate)
    Finished `bench` profile [optimized] target(s) in 34.15s
     Running unittests src/lib.rs (target/release/deps/compose_ui-ec8a4ddd3eb85499)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 56 filtered out; finished in 0.00s

     Running benches/pipeline.rs (target/release/deps/pipeline-e48259da0cb58c3a)
Gnuplot not found, using plotters backend
Benchmarking pipeline_composition/ui_objects/777
Benchmarking pipeline_composition/ui_objects/777: Warming up for 3.0000 s
Benchmarking pipeline_composition/ui_objects/777: Collecting 100 samples in estimated 5.0839 s (293k iterations)
Benchmarking pipeline_composition/ui_objects/777: Analyzing
pipeline_composition/ui_objects/777
                        time:   [17.428 µs 17.597 µs 17.791 µs]
Found 9 outliers among 100 measurements (9.00%)
  4 (4.00%) high mild
  5 (5.00%) high severe

Benchmarking pipeline_measure/ui_objects/777
Benchmarking pipeline_measure/ui_objects/777: Warming up for 3.0000 s
Benchmarking pipeline_measure/ui_objects/777: Collecting 100 samples in estimated 9.2824 s (10k iterations)
Benchmarking pipeline_measure/ui_objects/777: Analyzing
pipeline_measure/ui_objects/777
                        time:   [1.0767 ms 1.0946 ms 1.1149 ms]
Found 4 outliers among 100 measurements (4.00%)
  2 (2.00%) high mild
  2 (2.00%) high severe

Benchmarking pipeline_layout/ui_objects/777
Benchmarking pipeline_layout/ui_objects/777: Warming up for 3.0000 s
Benchmarking pipeline_layout/ui_objects/777: Collecting 100 samples in estimated 5.1844 s (106k iterations)
Benchmarking pipeline_layout/ui_objects/777: Analyzing
pipeline_layout/ui_objects/777
                        time:   [48.092 µs 49.069 µs 50.379 µs]
Found 10 outliers among 100 measurements (10.00%)
  6 (6.00%) high mild
  4 (4.00%) high severe

Benchmarking pipeline_render/ui_objects/777
Benchmarking pipeline_render/ui_objects/777: Warming up for 3.0000 s
Benchmarking pipeline_render/ui_objects/777: Collecting 100 samples in estimated 5.2819 s (91k iterations)
Benchmarking pipeline_render/ui_objects/777: Analyzing
pipeline_render/ui_objects/777
                        time:   [59.098 µs 60.203 µs 61.654 µs]
Found 1 outliers among 100 measurements (1.00%)
  1 (1.00%) high mild

Benchmarking pipeline_full
Benchmarking pipeline_full: Warming up for 3.0000 s
Benchmarking pipeline_full: Collecting 100 samples in estimated 5.0002 s (278k iterations)
Benchmarking pipeline_full: Analyzing
pipeline_full           time:   [17.795 µs 18.194 µs 18.754 µs]
Found 10 outliers among 100 measurements (10.00%)
  2 (2.00%) high mild
  8 (8.00%) high severe

     Running benches/skip_recomposition.rs (target/release/deps/skip_recomposition-c679860f0b5ef6c6)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

